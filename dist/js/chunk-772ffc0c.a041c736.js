(window["webpackJsonp_admin-system-template"]=window["webpackJsonp_admin-system-template"]||[]).push([["chunk-772ffc0c"],{2339:function(e,t,n){},"2b9f":function(e,t,n){},3574:function(e,t,n){"use strict";n("9ecf")},"3fae":function(e,t,n){},"46f7":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"page"},[t("header",[e._v("avue低代码")]),t("div",{staticClass:"page-container"},[t("div",{staticClass:"avue-menu"},[t("div",{staticClass:"menu"},e._l(e.menuList,(function(n){return t("div",{key:n.name,class:["menu-item",e.currentMenu===n.name?"active-menu":""],on:{click:function(t){return e.menuChange(n.name)}}},[t("div",{staticClass:"menu-item-icon"},[t("i",{class:["icon","iconfont",n.icon]})]),t("div",{staticClass:"menu-item-name"},[e._v(e._s(n.name))])])})),0)]),t("div",{staticClass:"avue-configuration"},[t("div",{staticClass:"configuration"},e._l(e.configuration,(function(n){return t("div",{key:n.name,class:["configuration-item",e.currentConfiguration.name===n.name?"active-configuration":""],on:{click:function(t){return e.configurationChange(n)}}},[t("div",{staticClass:"configuration-item-name"},[e._v(e._s(n.name))]),e._m(0,!0)])})),0)]),t("div",{staticClass:"avue-main"},[t("el-card",{staticClass:"main-card"},["avue_curd"===e.currentMenu?t("CurdMain",{attrs:{currentMenu:e.currentMenu,currentConfiguration:e.currentConfiguration}}):e._e(),"avue_form"===e.currentMenu?t("FormMain",{attrs:{currentMenu:e.currentMenu,currentConfiguration:e.currentConfiguration}}):e._e()],1),"avue_curd"===e.currentMenu?t("CurdCode",{attrs:{currentMenu:e.currentMenu,currentConfiguration:e.currentConfiguration}}):e._e(),"avue_form"===e.currentMenu?t("FormCode",{attrs:{currentMenu:e.currentMenu,currentConfiguration:e.currentConfiguration}}):e._e()],1),t("div",{staticClass:"avue-fields"},[t("div",{staticClass:"fields"},[t("el-tabs",{staticClass:"avue-table",attrs:{type:"border-card"}},[t("el-tab-pane",{attrs:{label:"常用"}},[t("Fields",{attrs:{fields:e.fields["common_use"],currentMenu:e.currentMenu,currentConfiguration:e.currentConfiguration}})],1),t("el-tab-pane",{attrs:{label:"不常用"}},[t("un-common",{attrs:{fields:e.fields["un_common_use"],currentMenu:e.currentMenu,currentConfiguration:e.currentConfiguration}})],1)],1)],1)])])])},l=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"configuration-item-icon"},[t("i",{staticClass:"icon iconfont icon-hosjoy_right"})])}];const o=[{label:"true",value:!0},{label:"false",value:!1}],r=[{label:"left",value:"left"},{label:"right",value:"right"},{label:"center",value:"center"}],i=[{label:"input",value:"input"},{label:"select",value:"select"},{label:"cascader",value:"cascader"},{label:"date",value:"date"},{label:"datetime",value:"datetime"}],s=[{label:"yyyy-MM-dd",value:"yyyy-MM-dd"},{label:"yyyy-MM-dd HH:mm",value:"yyyy-MM-dd HH:mm"},{label:"yyyy-MM-dd HH:mm:ss",value:"yyyy-MM-dd HH:mm:ss"}],c={avue_curd:[{name:"Crud",target:"curd",status:0},{name:"Page",target:"page",status:0},{name:"Option",target:"option",status:1},{name:"Column-字典属性",target:"column_dic",status:1},{name:"Column-共用属性",target:"column_common",status:1},{name:"Events",target:"events",status:0},{name:"Methods",target:"methods",status:0}],avue_form:[{name:"Page",target:"page",status:0},{name:"Option",target:"option",status:1},{name:"Column",target:"column",status:1}]},u={curd_option:{common_use:[{name:"stripe",type:"select",dic:o},{name:"border",type:"select",dic:o},{name:"index",type:"select",dic:o},{name:"indexFixed",type:"select",dic:o},{name:"indexLabel",type:"input"},{name:"indexWidth",type:"number"},{name:"menuAlign",type:"select",dic:r},{name:"searchMenuSpan",type:"number"},{name:"align",type:"select",dic:r},{name:"viewBtn",type:"select",dic:o},{name:"editBtn",type:"select",dic:o},{name:"delBtn",type:"select",dic:o},{name:"card",type:"select",dic:o},{name:"menuWidth",type:"number"},{name:"dialogClickModal",type:"select",dic:o},{name:"searchLabelWidth",type:"number"},{name:"labelWidth",type:"number"},{name:"gutter",type:"number"},{name:"searchGutter",type:"number"},{name:"searchIcon",type:"select",dic:o},{name:"searchMenuPosition",type:"select",dic:r},{name:"searchBtnText",type:"input"},{name:"searchBtn",type:"select",dic:o},{name:"emptyBtn",type:"select",dic:o},{name:"refreshBtn",type:"select",dic:o},{name:"columnBtn",type:"select",dic:o},{name:"searchShowBtn",type:"select",dic:o},{name:"addBtn",type:"select",dic:o},{name:"menu",type:"select",dic:o},{name:"selection",type:"select",dic:o}],un_common_use:[{name:"height",type:"number"},{name:"header",type:"select",dic:o},{name:"searchEnter",type:"select",dic:o}]},curd_column_common:{common_use:[{name:"label",type:"input"},{name:"prop",type:"input"},{name:"type",type:"select",dic:i},{name:"hide",type:"select",dic:o},{name:"search",type:"select",dic:o},{name:"searchPlaceholder",type:"input"},{name:"searchValue",type:"input"},{name:"searchOrder",type:"number"}],un_common_use:[{name:"valueFormat",type:"select",dic:s},{name:"searchRange",type:"select",dic:o},{name:"startPlaceholder",type:"input"},{name:"endPlaceholder",type:"input"},{name:"editDisplay",type:"select",dic:o},{name:"addDisplay",type:"select",dic:o},{name:"slot",type:"select",dic:o},{name:"align",type:"select",dic:r},{name:"headerAlign",type:"select",dic:r},{name:"searchSpan",type:"number"}]},curd_column_dic:{common_use:[{name:"dicData",type:"enumerationDIY"},{name:"props",type:"enumeration"}],un_common_use:[{name:"dicUrl",type:"input"},{name:"dicQuery",type:"input"},{name:"dicHeaders",type:"input"},{name:"dicMethod",type:"input"}]},curd_page:{},form_option:{common_use:[{name:"span",type:"number"},{name:"labelWidth",type:"number"},{name:"labelPosition",type:"select",dic:r}],un_common_use:[{name:"menuBtn",type:"select",dic:o},{name:"submitBtn",type:"select",dic:o},{name:"emptyBtn",type:"select",dic:o},{name:"menuSpan",type:"number"},{name:"tabs",type:"select",dic:o},{name:"enter",type:"select",dic:o},{name:"detail",type:"select",dic:o}]},form_column:{common_use:[],un_common_use:[]}};var m=function(){var e=this,t=e._self._c;return t("div",{staticClass:"fields"},[t("el-form",{ref:"form",attrs:{model:e.form,"label-width":"150px","label-position":"left"}},e._l(e.fields,(function(n){return t("div",{key:n.name,staticClass:"field-item"},["input"===n.type?t("el-form-item",{staticClass:"avue-form-item",attrs:{label:n.name}},[t("el-input",{attrs:{size:"small"},model:{value:e.form[e.getForm][n.name],callback:function(t){e.$set(e.form[e.getForm],n.name,t)},expression:"form[getForm][field.name]"}})],1):e._e(),"number"===n.type?t("el-form-item",{staticClass:"avue-form-item",attrs:{label:n.name}},[t("el-input-number",{attrs:{size:"small","controls-position":"right"},model:{value:e.form[e.getForm][n.name],callback:function(t){e.$set(e.form[e.getForm],n.name,e._n(t))},expression:"form[getForm][field.name]"}})],1):e._e(),"enumerationDIY"===n.type?t("el-form-item",{staticClass:"avue-form-item",attrs:{label:n.name}},e._l(e.form[e.getForm][n.name],(function(a,l){return t("el-row",{key:l},[t("el-col",{staticStyle:{"margin-right":"10px"},attrs:{span:16}},[t("el-row",[t("el-col",{staticStyle:{"margin-right":"10px"},attrs:{span:11}},[t("el-input",{attrs:{size:"small","controls-position":"right",placeholder:"label"},model:{value:a[0].label,callback:function(t){e.$set(a[0],"label",t)},expression:"item[0].label"}})],1),t("el-col",{attrs:{span:1}},[e._v(":")]),t("el-col",{attrs:{span:11}},[t("el-input",{attrs:{size:"small","controls-position":"right",placeholder:"value"},model:{value:a[0].value,callback:function(t){e.$set(a[0],"value",t)},expression:"item[0].value"}})],1)],1),t("el-row",[t("el-col",{staticStyle:{"margin-right":"10px"},attrs:{span:11}},[t("el-input",{attrs:{size:"small","controls-position":"right",placeholder:"label"},model:{value:a[1].label,callback:function(t){e.$set(a[1],"label",t)},expression:"item[1].label"}})],1),t("el-col",{attrs:{span:1}},[e._v(":")]),t("el-col",{attrs:{span:11}},[t("el-input",{attrs:{size:"small","controls-position":"right",placeholder:"value"},model:{value:a[1].value,callback:function(t){e.$set(a[1],"value",t)},expression:"item[1].value"}})],1)],1)],1),t("el-col",{attrs:{span:6}},[0===l?t("i",{staticClass:"el-icon-circle-plus",staticStyle:{"margin-right":"10px",cursor:"pointer"},on:{click:function(t){return e.addSelectRow(n.name)}}}):e._e(),t("i",{staticClass:"el-icon-remove",staticStyle:{cursor:"pointer"},on:{click:function(t){return e.subSelectRow(n.name,l)}}})])],1)})),1):e._e(),"enumeration"===n.type?t("el-form-item",{staticClass:"avue-form-item",attrs:{label:n.name}},[t("el-row",[t("el-col",{staticStyle:{"margin-right":"10px"},attrs:{span:10}},[t("el-input",{attrs:{size:"small","controls-position":"right",placeholder:"label"},model:{value:e.form[e.getForm][n.name]["label"],callback:function(t){e.$set(e.form[e.getForm][n.name],"label",t)},expression:"form[getForm][field.name]['label']"}})],1),t("el-col",{attrs:{span:10}},[t("el-input",{attrs:{size:"small","controls-position":"right",placeholder:"value"},model:{value:e.form[e.getForm][n.name]["value"],callback:function(t){e.$set(e.form[e.getForm][n.name],"value",t)},expression:"form[getForm][field.name]['value']"}})],1)],1)],1):e._e(),"select"===n.type?t("el-form-item",{staticClass:"avue-form-item",attrs:{label:n.name}},[t("el-select",{model:{value:e.form[e.getForm][n.name],callback:function(t){e.$set(e.form[e.getForm],n.name,t)},expression:"form[getForm][field.name]"}},e._l(n.dic,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e()],1)})),0)],1)},d=[],p=(n("14d9"),n("2b0e")),f=new p["default"],h={name:"Fields",props:{fields:{default:[]},currentMenu:{type:String,default:""},currentConfiguration:{default:{}}},data(){return{menuList:[{icon:"icon-hosjoy_goods",name:"avue_curd",target:"curd"},{icon:"icon-hosjoy_goods",name:"avue_form",target:"form"}],form:{curd_curd:{},curd_page:{},curd_option:{},curd_column_dic:{dicData:[[{label:"label",value:"是"},{label:"value",value:"1"}]],props:{}},curd_column_props:{},curd_column_common:{label:"avue",prop:"avue",search:!0},curd_events:{dicData:[{label:"label",value:"是"},{label:"value",value:"1"}]},curd_methods:{},form_option:{labelWidth:80}}}},watch:{form:{handler(e){f.$emit("getForm",{...e})},immediate:!0,deep:!0}},computed:{getForm(){const{target:e}=this.menuList.find(e=>e.name===this.currentMenu);return e+"_"+this.currentConfiguration.target||""}},mounted(){},methods:{addSelectRow(e){"dicData"===e&&this.form[this.getForm][e].push([{label:"",value:""},{label:"",value:""}])},subSelectRow(e,t){"dicData"===e&&this.form[this.getForm][e].splice(t,1)}}},b=h,g=(n("fb55"),n("2877")),v=Object(g["a"])(b,m,d,!1,null,"66a2e441",null),y=v.exports,_=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[t("avue-crud",{ref:"crud",staticClass:"crud-table",attrs:{option:e.tableOption,data:e.list,page:e.page,search:e.searchForm,"table-loading":e.loading,"header-cell-class-name":()=>"crud-table-head","cell-class-name":()=>"crud-cell"},on:{"update:page":function(t){e.page=t},"update:search":function(t){e.searchForm=t},"on-load":function(t){return e.getList()},"search-change":e.searchChange,"refresh-change":function(t){return e.getList()},"search-reset":e.searchChange},scopedSlots:e._u([{key:"searchMenu",fn:function({size:n}){return[t("el-button",{attrs:{type:"primary",size:n},on:{click:e.searchChange}},[e._v("查 询")]),t("el-button",{attrs:{type:"primary",plain:"",size:n},on:{click:e.resetForm}},[e._v("重 置")])]}},{key:"menuLeft",fn:function(){return[t("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleAdd}},[e._v("新增")])]},proxy:!0},{key:"menu",fn:function({row:n,size:a}){return[n.$cellEdit?e._e():t("el-button",{attrs:{type:"text",size:a}},[e._v("详情 ")]),n.$cellEdit?e._e():t("el-button",{attrs:{type:"text",size:a}},[e._v("编辑 ")]),t("el-button",{attrs:{type:"text",size:a}},[e._v("删除 ")]),n.$cellEdit?t("el-button",{attrs:{type:"text",size:a}},[e._v("保存 ")]):e._e()]}}])},[t("template",{slot:"empty"},[e._v(" 暂无数据！ ")])],2)],1)},C=[];const x={border:!0,index:!0,indexFixed:!1,indexLabel:"序号",stripe:!0,menuAlign:"center",searchMenuSpan:12,align:"center",viewBtn:!1,addBtn:!1,editBtn:!1,delBtn:!1,card:!1,columnBtn:!1,menuWidth:150,dialogClickModal:!1,indexWidth:70,searchLabelWidth:0,labelWidth:100,searchIcon:!0,refreshBtn:!1,searchMenuPosition:"right",searchBtnText:"查 询",labelPosition:"left",tip:!1,gutter:24,searchGutter:24,searchIndex:3,searchShowBtn:!1,searchBtn:!1,emptyBtn:!1,menu:!0,dialogCustomClass:"crud-dialog",selection:!1,column:[{label:"avue",prop:"avue",search:!0}]};var $={name:"CurdMain",props:{currentMenu:{type:String,default:""},currentConfiguration:{type:Object,default:{}}},data(){return{tableOption:x,page:{currentPage:1,pageSize:10,total:100},list:[{avue:"avue"}],searchForm:{},loading:!1,menuList:[{icon:"icon-hosjoy_goods",name:"avue_curd",target:"curd"},{icon:"icon-hosjoy_goods",name:"avue_form",target:"form"}]}},computed:{getForm(){const{target:e}=this.menuList.find(e=>e.name===this.currentMenu);return e+"_"+this.currentConfiguration.target||""}},mounted(){f.$on("getForm",e=>{const t={...e[this.getForm]};this.setColumn({...e["curd_column_common"]}),this.setColumnDic({...e["curd_column_dic"]}),"curd_option"===this.getForm&&this.setOption(t),"curd_column_common"===this.getForm&&this.setColumn(t),"curd_column_dic"===this.getForm&&this.setColumnDic(t)})},watch:{list:{handler(e,t){f.$emit("sendList",e)},immediate:!0,deep:!0}},methods:{getList(){},searchChange(e,t){t&&t()},resetForm(){},handleAdd(){this.list.push({avue:"avue"+this.list.length,$cellEdit:!0}),this.tableOption.column[0].cell=!0,this.setColumn(this.tableOption.column[0])},deleteUndefined(e){for(let t in e)void 0===e[t]&&delete e[t];return e},setOption(e){this.tableOption={...this.tableOption,...this.deleteUndefined(e)},f.$emit("sendOption",this.tableOption)},setColumn(e){this.$set(this.tableOption.column,0,{...this.tableOption.column[0],...this.deleteUndefined(e)}),f.$emit("sendColumn",this.tableOption.column[0])},setColumnDic(e){if(e.dicData&&e.dicData.length){let t=[...e.dicData],n=[];t.forEach(e=>{let t={};t[e[0].label]=e[0].value,t[e[1].label]=e[1].value,n.push(t)}),e.dicData=n}!e.props||e.props.label&&e.props.value||delete e.props,this.$set(this.tableOption.column,0,{...this.tableOption.column[0],...this.deleteUndefined(e)}),f.$emit("sendColumn",this.tableOption.column[0])}}},k=$,O=Object(g["a"])(k,_,C,!1,null,"194b7344",null),F=O.exports,M=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[t("div",{staticClass:"header"},[t("el-button",{attrs:{type:"primary"},on:{click:e.showAddDialog}},[e._v("新增表单")])],1),t("avue-form",{ref:"form",attrs:{option:e.formOption},on:{submit:e.handleSubmit,"reset-change":e.handleReset},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}}),t("AddColumn",{ref:"addColumnRef"})],1)},w=[];const j={span:12,labelWidth:120,labelPosition:"right",column:[]};var S=function(){var e=this,t=e._self._c;return t("div",[t("el-dialog",{attrs:{title:"add-column",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("div",[t("el-form",{ref:"form",attrs:{rules:e.rules,"label-width":"100px","label-position":"center"},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"label"}},[t("el-input",{attrs:{placeholder:"label"},model:{value:e.form.label,callback:function(t){e.$set(e.form,"label",t)},expression:"form.label"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"prop"}},[t("el-input",{attrs:{placeholder:"prop"},model:{value:e.form.prop,callback:function(t){e.$set(e.form,"prop",t)},expression:"form.prop"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"type"}},[t("el-select",{attrs:{placeholder:"type"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.typeMap,(function(e){return t("el-option",{key:e.label,attrs:{label:e.label,value:e.label}})})),1)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"disabled"}},[t("el-select",{attrs:{placeholder:"disabled"},model:{value:e.form.disabled,callback:function(t){e.$set(e.form,"disabled",t)},expression:"form.disabled"}},[t("el-option",{attrs:{label:"true",value:!0}}),t("el-option",{attrs:{label:"false",value:!1}})],1)],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"value",placeholder:"value"}},[t("el-input",{model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"span"}},[t("el-input-number",{attrs:{placeholder:"span","controls-position":"right",min:0,max:12},model:{value:e.form.span,callback:function(t){e.$set(e.form,"span",t)},expression:"form.span"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"labelWidth"}},[t("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.labelWidth,callback:function(t){e.$set(e.form,"labelWidth",t)},expression:"form.labelWidth"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"labelPosition"}},[t("el-select",{model:{value:e.form.labelPosition,callback:function(t){e.$set(e.form,"labelPosition",t)},expression:"form.labelPosition"}},e._l(e.positionMap,(function(e){return t("el-option",{key:e.label,attrs:{label:e.label,value:e.label}})})),1)],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"props.label",placeholder:"props.label"}},[t("el-input",{model:{value:e.form.props.label,callback:function(t){e.$set(e.form.props,"label",t)},expression:"form.props.label"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"props.value"}},[t("el-input",{model:{value:e.form.props.value,callback:function(t){e.$set(e.form.props,"value",t)},expression:"form.props.value"}})],1)],1)],1),t("el-row",[t("el-col",{staticStyle:{padding:"0 0 10px 0"},attrs:{span:24}},[t("el-button",{attrs:{type:"text",size:"small"},on:{click:e.addRule}},[e._v("新增rule")])],1)],1),e._l(e.form.rules,(function(n,a){return t("el-row",{key:n.id},[t("el-col",{attrs:{span:7}},[t("el-form-item",{attrs:{label:"required"}},[t("el-select",{model:{value:n.required,callback:function(t){e.$set(n,"required",t)},expression:"item.required"}},[t("el-option",{attrs:{label:"true",value:!0}}),t("el-option",{attrs:{label:"false",value:!1}})],1)],1)],1),t("el-col",{attrs:{span:7}},[t("el-form-item",{attrs:{label:"message"}},[t("el-input",{model:{value:n.message,callback:function(t){e.$set(n,"message",t)},expression:"item.message"}})],1)],1),t("el-col",{attrs:{span:7}},[t("el-form-item",{attrs:{label:"trigger"}},[t("el-select",{model:{value:n.trigger,callback:function(t){e.$set(n,"trigger",t)},expression:"item.trigger"}},[t("el-option",{attrs:{label:"blur",value:"blur"}}),t("el-option",{attrs:{label:"change",value:"change"}})],1)],1)],1),t("el-col",{staticClass:"center",attrs:{span:3}},[t("i",{staticClass:"el-icon-delete",staticStyle:{cursor:"pointer"},on:{click:function(t){return e.subRule(a)}}})])],1)})),t("el-row",[t("el-col",{staticStyle:{padding:"0 0 10px 0"},attrs:{span:24}},[t("el-button",{attrs:{type:"text",size:"small"},on:{click:e.addDicData}},[e._v("新增dicData")])],1)],1),e._l(e.form.dicData,(function(n,a){return t("div",{staticStyle:{display:"flex","align-items":"center"}},[t("div",[t("el-row",{staticStyle:{"margin-bottom":"10px",display:"flex","align-items":"center"}},[t("el-col",{attrs:{span:11}},[t("el-input",{attrs:{size:"small",placeholder:"label"},model:{value:n[0].label,callback:function(t){e.$set(n[0],"label",t)},expression:"item[0].label"}})],1),t("el-col",{staticStyle:{"text-align":"center"},attrs:{span:1}},[e._v(":")]),t("el-col",{attrs:{span:11}},[t("el-input",{attrs:{size:"small",placeholder:"value"},model:{value:n[0].value,callback:function(t){e.$set(n[0],"value",t)},expression:"item[0].value"}})],1)],1),t("el-row",{staticStyle:{"margin-bottom":"10px",display:"flex","align-items":"center"}},[t("el-col",{attrs:{span:11}},[t("el-input",{attrs:{size:"small",placeholder:"label"},model:{value:n[1].label,callback:function(t){e.$set(n[1],"label",t)},expression:"item[1].label"}})],1),t("el-col",{staticStyle:{"text-align":"center"},attrs:{span:1}},[e._v(":")]),t("el-col",{attrs:{span:11}},[t("el-input",{attrs:{size:"small",placeholder:"value"},model:{value:n[1].value,callback:function(t){e.$set(n[1],"value",t)},expression:"item[1].value"}})],1)],1)],1),t("div",{on:{click:function(t){return e.subDicData(a)}}},[t("i",{staticClass:"el-icon-delete"})])])}))],2)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.handleEmit}},[e._v("确 定")])],1)])],1)},D=[],z={name:"AddColumn",data(){return{dialogVisible:!1,form:{label:"",prop:"",props:{label:"",value:""},rules:[],dicData:[]},positionMap:[{label:"left"},{label:"center"},{label:"right"}],typeMap:[{label:"input"},{label:"number"},{label:"select"},{label:"cascader"},{label:"date"},{label:"datetime"},{label:"checkbox"},{label:"radio"},{label:"switch"}],rules:{label:[{required:!0,message:"请输入label",trigger:"blur"}],prop:[{required:!0,message:"请输入prop",trigger:"blur"}]}}},methods:{handleClose(){this.dialogVisible=!1},show(){this.dialogVisible=!0},addRule(){this.form.rules.push({id:+new Date,required:null,message:"",trigger:""})},subRule(e){this.form.rules.splice(e,1)},handleEmit(){let e={...this.form};e.dicData.length||delete e.dicData,e.rules.length||delete e.rules,e.props.label||e.props.value||delete e.props;for(let t in e)e[t]||delete e[t];f.$emit("getColumn",e),this.dialogVisible=!1},addDicData(){this.form.dicData.push([{label:"",value:""},{label:"",value:""}])},subDicData(e){this.form.dicData.splice(e,1)}}},P=z,L=(n("66f8"),Object(g["a"])(P,S,D,!1,null,"a3a71b16",null)),B=L.exports,E={name:"FormMain",components:{AddColumn:B},props:{currentMenu:{type:String,default:""},currentConfiguration:{default:{}}},data(){return{formOption:j,form:{},menuList:[{icon:"icon-hosjoy_goods",name:"avue_curd",target:"curd"},{icon:"icon-hosjoy_goods",name:"avue_form",target:"form"}]}},computed:{getForm(){const{target:e}=this.menuList.find(e=>e.name===this.currentMenu);return e+"_"+this.currentConfiguration.target||""}},mounted(){f.$on("getForm",e=>{const t=this.deleteUndefined({...e[this.getForm]});this.setOption(t)}),f.$on("getColumn",e=>{let t=[];e.dicData&&e.dicData.length&&(t=e.dicData.map(e=>{const t={};return t[e[0].label]=e[0].value,t[e[1].label]=e[1].value,t}));const n={...e};n.dicData=t;const a=[...this.formOption.column,n],l=[...this.formOption.column,e];this.formOption={...this.formOption,column:a},f.$emit("sendColumnn",l)})},watch:{},methods:{showAddDialog(){this.$refs.addColumnRef.show()},deleteUndefined(e){for(const t in e)void 0===e[t]&&delete e[t];return e},setOption(e){this.formOption={...this.formOption,...e};const t={...this.formOption};delete t.column,f.$emit("sendOption",{formOption:t,type:"option"})},handleSubmit(e,t){this.$refs.form.validate((e,t)=>{e?t&&t():this.$message.warining("请填写必填项")}),t&&t()},handleReset(){}}},A=E,R=(n("3574"),Object(g["a"])(A,M,w,!1,null,"7df92c36",null)),W=R.exports,q=function(){var e=this,t=e._self._c;return t("div",{staticClass:"code"},[t("el-tabs",{staticClass:"avue-table",attrs:{type:"border-card"}},[t("el-tab-pane",{attrs:{label:"html"}},[t("Pre",{domProps:{textContent:e._s(e.html)}})],1),t("el-tab-pane",{attrs:{label:"data"}},[t("Pre",{domProps:{textContent:e._s(e.data)}})],1),t("el-tab-pane",{attrs:{label:"methods"}},[t("Pre",{domProps:{textContent:e._s(e.methods)}})],1),t("el-tab-pane",{attrs:{label:"options.js"}},[t("Pre",{domProps:{textContent:e._s(e.option)}})],1),t("el-tab-pane",{attrs:{label:"column"}},[t("Pre",{domProps:{textContent:e._s(e.column)}})],1)],1)],1)},H=[],U={name:"CurdCode",props:{currentMenu:{type:String,default:""},currentConfiguration:{default:{}}},data(){return{menuList:[{icon:"icon-hosjoy_goods",name:"avue_curd",target:"curd"},{icon:"icon-hosjoy_goods",name:"avue_form",target:"form"}],list:"",html:'<avue-crud ref="crud" class="crud-table" :option="tableOption" :data="list" :page.sync="page" \n  :search.sync="searchForm" :table-loading="loading" :header-cell-class-name="() => \'crud-table-head\'"\n  :cell-class-name="() => \'crud-cell\'" @on-load="getList()" @search-change="searchChange" @refresh-change="getList()"\n  @search-reset="searchChange">\n  <template #searchMenu="{ size }">\n    <el-button type="primary" :size="size" @click="searchChange">查 询</el-button>\n    <el-button type="primary" plain :size="size" @click="resetForm">重 置</el-button>\n  </template\n  <template #menuLeft>\n    <el-button type="primary" icon="el-icon-plus" @click="handleAdd">新增</el-button>\n  </template>\n  <template #menu="{ row, size }">\n    <el-button type="text" :size="size">详情\n    </el-button>\n    <el-button type="text" :size="size">编辑\n    </el-button>\n    <el-button type="text" :size="size">删除\n    </el-button>\n  </template>\n  <template slot="empty"> 暂无数据！ </template>\n</avue-crud>',option:"",data:"data() {\n  return {\n    list: ,\n    searchForm: {},\n    loading: false,\n    page: {\n      currentPage: 1,\n      pageSize: 10,\n      total: 0\n    },\n  }\n}\n      ",column:"",methods:"methods: {\n  getList() { },\n  searchChange(form,done) {\n    done && done()\n  },\n  resetForm() { },\n  handleAdd() {\n    this.list.push({\n    avue: 'avue' + this.list.length,\n      $cellEdit: true\n    })\n    this.tableOption.column[0].cell = true\n  },\n}\n      "}},computed:{getForm(){const{target:e}=this.menuList.find(e=>e.name===this.currentMenu);return e+"_"+this.currentConfiguration.target||""}},mounted(){f.$on("sendOption",e=>{const t=Object.keys(e);this.option="",t.forEach(t=>{this.option=this.option+t+":"+this.getGe(e[t])+"\n    "}),this.option="export function tableOption() {\n  const self = this\n  return createTableOption({\n  "+this.option+"})\n  }"}),f.$on("sendColumn",e=>{for(let n in e)e[n]||delete e[n];const t=Object.keys(e);this.column="",t.forEach(t=>{this.column=""+this.column+t+":"+this.getGe(e[t],t)+"\n"}),this.column="column: [{\n"+this.column+"}]"}),f.$on("sendList",e=>{let t="[";e.forEach(e=>{const n=Object.keys(e);t+="\n      {\n        ",n.forEach(n=>{t=t+n+": "+e[n]+","}),t+="\n      }"}),t+="\n    ]",this.data="data() {\n  return {\n    list: ,\n    searchForm: {},\n    loading: false,\n    page: {\n      currentPage: 1,\n      pageSize: 10,\n      total: 0\n    },\n  }\n}\n      ",this.data=this.data.slice(0,29)+t+this.data.slice(29)})},methods:{getGe(e,t){if("boolean"===typeof e){if(1==e)return"true";if(0==e)return"false"}if("string"===typeof e)return e;if("number"===typeof e)return e+"";if("[object Array]"===Object.prototype.toString.call(e)&&"dicData"===t){let t="";return t+="[",e.length?(e.forEach(e=>{const n=Object.keys(e);t=t+`\n  { \n    ${n[0]}: `+e[n[0]]+`,\n    ${n[1]}: ${e[n[1]]},\n  },\n`}),t+="]",t):"[]"}if("[object Object]"===Object.prototype.toString.call(e)&&"props"===t){let t="{";return t+=`\n  label: ${e.label},\n  value: ${e.value}\n}`,t}}}},V=U,G=(n("4f3f"),Object(g["a"])(V,q,H,!1,null,"2987bf3e",null)),I=G.exports,T=function(){var e=this,t=e._self._c;return t("div",{staticClass:"code"},[t("el-tabs",{staticClass:"avue-table",attrs:{type:"border-card"}},[t("el-tab-pane",{attrs:{label:"html"}},[t("Pre",{domProps:{textContent:e._s(e.html)}})],1),t("el-tab-pane",{attrs:{label:"data"}},[t("Pre",{domProps:{textContent:e._s(e.data)}})],1),t("el-tab-pane",{attrs:{label:"methods"}},[t("Pre",{domProps:{textContent:e._s(e.methods)}})],1),t("el-tab-pane",{attrs:{label:"options.js"}},[t("Pre",{domProps:{textContent:e._s(e.option)}})],1),t("el-tab-pane",{attrs:{label:"column"}},[t("Pre",{domProps:{textContent:e._s(e.column)}})],1)],1)],1)},J=[],Y={name:"FormCode",props:{currentMenu:{type:String,default:""},currentConfiguration:{default:{}}},data(){return{menuList:[{icon:"icon-hosjoy_goods",name:"avue_curd",target:"curd"},{icon:"icon-hosjoy_goods",name:"avue_form",target:"form"}],html:'<avue-form ref="form" v-model="form" :option="formOption" @submit="handleSubmit" @reset-change="handleReset"> </avue-form>',data:"\nimport { formOption } from './formOption.js'\n\ndata() {\n  return {\n    formOption: {},\n    form: {},\n  }\n}",methods:"\nmethods: {\n  handleSubmit(form, done) {\n    this.$refs.form.validate((valid, done) => {\n      if (valid) {\n        // do something\n        done && done()\n      } else {\n        this.$message.warining('请填写必填项')\n      }\n    })\n    done && done()\n  },\n  handleReset() {}\n}      \n",option:"",column:""}},computed:{getForm(){const{target:e}=this.menuList.find(e=>e.name===this.currentMenu);return e+"_"+this.currentConfiguration.target||""}},mounted(){f.$on("sendOption",({formOption:e,type:t})=>{"option"===t&&this.writeOption(e)}),f.$on("sendColumnn",e=>{this.writeColumn(e)})},methods:{writeColumn(e){this.column="\ncolumn:[\n",e.forEach(e=>{for(let t in e)void 0===e[t]&&delete e[t];this.column=this.column+"\n  {\n";for(let t in e)this.column=this.column+`\n    ${t}: ${this.getGe(e[t],t)},\n`;this.column=this.column+"\n  },\n"}),this.column=this.column+"\n]\n"},writeOption(e){this.option="\nformOption: {\n";for(let t in e)this.option=this.option+`\n  ${t}: ${e[t]},\n`;this.option=this.option+"\n}      \n"},getGe(e,t){if("[object Boolean]"===Object.prototype.toString.call(e))return e?"true":"false";if("[object Number]"===Object.prototype.toString.call(e))return e+"";if("[object String]"===Object.prototype.toString.call(e))return e;if("[object Object]"===Object.prototype.toString.call(e)){let t="{\n";for(let n in e)t+=`\n      ${n}: ${e[n]},\n`;return t+="\n    }",t}if("[object Array]"===Object.prototype.toString.call(e)&&"rules"===t){let t="[\n";return e.forEach(e=>{t+="\n      {\n",t+=`\n        required: ${e.required?"true":"false"},\n        message: '${e.message}',\n        trigger: '${e.trigger}'\n      }\n`}),t+="\n    ]",t}if("[object Array]"===Object.prototype.toString.call(e)&&"dicData"===t){let t="[\n";return e.forEach(e=>{t+="\n      {\n",t+=`\n        ${e[0].label}: '${e[0].value}',\n        ${e[1].label}: '${e[1].value}',\n`,t+="\n      },\n"}),t+="\n    ]",t}}}},N=Y,Q=(n("f548"),Object(g["a"])(N,T,J,!1,null,"b5bed546",null)),K=Q.exports,X=function(){var e=this,t=e._self._c;return t("div",{staticClass:"fields"},[t("el-form",{ref:"form",attrs:{model:e.form,"label-width":"150px","label-position":"left"}},e._l(e.fields,(function(n){return t("div",{key:n.name,staticClass:"field-item"},["input"===n.type?t("el-form-item",{staticClass:"avue-form-item",attrs:{label:n.name}},[t("el-input",{attrs:{size:"small"},model:{value:e.form[e.getForm][n.name],callback:function(t){e.$set(e.form[e.getForm],n.name,t)},expression:"form[getForm][field.name]"}})],1):e._e(),"number"===n.type?t("el-form-item",{staticClass:"avue-form-item",attrs:{label:n.name}},[t("el-input-number",{attrs:{size:"small","controls-position":"right"},model:{value:e.form[e.getForm][n.name],callback:function(t){e.$set(e.form[e.getForm],n.name,e._n(t))},expression:"form[getForm][field.name]"}})],1):e._e(),"select"===n.type?t("el-form-item",{staticClass:"avue-form-item",attrs:{label:n.name}},[t("el-select",{model:{value:e.form[e.getForm][n.name],callback:function(t){e.$set(e.form[e.getForm],n.name,t)},expression:"form[getForm][field.name]"}},e._l(n.dic,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e()],1)})),0)],1)},Z=[],ee={name:"Fields",props:{fields:{default:[]},currentMenu:{default:""},currentConfiguration:{default:{}}},data(){return{menuList:[{icon:"icon-hosjoy_goods",name:"avue_curd",target:"curd"},{icon:"icon-hosjoy_goods",name:"avue_form",target:"form"}],form:{curd_curd:{},curd_page:{},curd_option:{},curd_column:{},curd_column_dic:{},curd_column_props:{},curd_column_common:{},curd_events:{},curd_methods:{},form_option:{}}}},watch:{form:{handler(e){f.$emit("getForm",e)},immediate:!0,deep:!0}},computed:{getForm(){const{target:e}=this.menuList.find(e=>e.name===this.currentMenu);return e+"_"+this.currentConfiguration.target||""}},mounted(){},methods:{}},te=ee,ne=(n("f642"),Object(g["a"])(te,X,Z,!1,null,"2afe33d6",null)),ae=ne.exports,le={name:"Avue",components:{Fields:y,CurdMain:F,FormMain:W,CurdCode:I,FormCode:K,UnCommon:ae},data(){return{menuList:[{icon:"icon-hosjoy_goods",name:"avue_curd",target:"curd"},{icon:"icon-hosjoy_goods",name:"avue_form",target:"form"}],currentMenu:"avue_curd",currentConfiguration:{name:"Option",target:"option"}}},computed:{configuration(){return c[this.currentMenu]},fields(){const{target:e}=this.menuList.find(e=>e.name===this.currentMenu);return u[e+"_"+this.currentConfiguration.target]||{}}},mounted(){},methods:{menuChange(e){this.currentMenu=e},configurationChange(e){e.status?this.currentConfiguration=e:this.$message.warning("暂未开放")}}},oe=le,re=(n("c828"),Object(g["a"])(oe,a,l,!1,null,"37e07d12",null));t["default"]=re.exports},"4f3f":function(e,t,n){"use strict";n("61d8")},"61d8":function(e,t,n){},"66f8":function(e,t,n){"use strict";n("802b")},"802b":function(e,t,n){},"9ecf":function(e,t,n){},af24:function(e,t,n){},c828:function(e,t,n){"use strict";n("af24")},f548:function(e,t,n){"use strict";n("3fae")},f642:function(e,t,n){"use strict";n("2b9f")},fb55:function(e,t,n){"use strict";n("2339")}}]);
//# sourceMappingURL=chunk-772ffc0c.a041c736.js.map